START
MOV SP, 0
MOV BP, 0
MAIN:
MOV R1,4
MOV R2,2
MOV [R2],R1
MOV R1,2
IN R0
MOV [R1] R0
MOV R1,3
IN R0
MOV [R1] R0
MOV R1,2
MOV R1,[R1]
OUT R1
L1:
MOV R1,2
MOV R1,[R1]
MOV R2,3
MOV R2,[R2]
LT R1,R2
LT R1,1
JZ R1,L2
MOV R2,2
MOV R2,[R2]
OUT R2
MOV R2,2
MOV R2,[R2]
MOV R3,1
ADD R2,R3
MOV R3,2
MOV [R3],R2
JMP L1
L2:
MOV R1,2
MOV R1,[R1]
MOV R0,R1
HALT
